ุงู ูู ุณูุฏ ูุงุฒููุฏโูุง ูุญุตูู (PRD) ุจูโุฑูุฒุฑุณุงู ุดุฏู ฺฉู ุดุงูู ููุทู ุฏุชุงุจุณุ ููุงูู ฺุงุฑุช ุฏุฑุณ (ูุฑูุฏ นฒ ุชุง ดฐฒ) ู ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ุงุฑุงุฆู ุดุฏู ุงุณุช.

ุงู ุจุฎุด ุจู ุนููุงู **"ูุงุฒ ฒ: ูุฏุฑุช ุฏุงุฏูโูุง ุฏุฑุณ ู ููุงูู ฺฉุณุจโูฺฉุงุฑ"** ุจู PRD ุงุตู ุงุถุงูู ูโุดูุฏ.

---

# 1. Overview (ุจุฑูุฒุฑุณุงู ุดุฏู)

* **ุชุบุฑ ฺฉูุฏ:** ุณุณุชู ุจุงุฏ ุงุฒ "ฺูุฏโูุณุฎฺฏ ฺุงุฑุช" (Multi-Version Charts) ูพุดุชุจุงู ฺฉูุฏ. ูุฑ ฺุงุฑุช ุฏุฑุณ ููุญุตุฑ ุจู ฺฉ **ุฑุดุชู**ุ **ููุทุน** ู **ุจุงุฒู ุณุงู ูุฑูุฏ** ุงุณุช.
* **ุฏุงููู ุฏุงุฏูโูุง:** ุฏุงุฏูโูุง ุงููู ุณุณุชู ุดุงูู ฺุงุฑุช "ูููุฏุณ ฺฉุงููพูุชุฑ" ุจุฑุง ูุฑูุฏโูุง ุณุงู **ฑณนฒ ุชุง ฑดฐฒ** ูโุจุงุดุฏ.
* **ููุทู ุชุฑูโุจูุฏ:** ุดูุงุฑู ุฏุฑุณ (Course ID) ูุดุงูโุฏููุฏู ุชุฑู ูพุดููุงุฏ ุขู ุฏุฑุณ ุงุณุช (ูุซูุงู ฑฐฑ ุนู ุชุฑู ฑุ ธฐฑ ุนู ุชุฑู ธ).

# 2. Domain Data Model (ูุฏู ุฏุงุฏู ุฏุงููู)

ุจุฑ ุงุณุงุณ SQL ุงุฑุงุฆู ุดุฏูุ ูุฏู ุฏุงุฏูโุง ุจฺฉโูุฏ (Django) ุจุงุฏ ููุฌูุฏุชโูุง ุฒุฑ ุฑุง ูพูุดุด ุฏูุฏ:

### 2.1. ููุฌูุฏุช ฺุงุฑุช (Chart Configuration)

* ุงู ููุฌูุฏุช ุชุนู ูโฺฉูุฏ ฺฉู ฺฉุฏุงู ูุณุช ุฏุฑูุณ ุจุฑุง ฺฉุฏุงู ุฏุงูุดุฌู ูุนุชุจุฑ ุงุณุช.
* **ููุฏูุง:** ุฑุดุชู (Computer)ุ ููุทุน (BSc)ุ ุณุงู ุดุฑูุน (92)ุ ุณุงู ูพุงุงู (402).

### 2.2. ููุฌูุฏุช ุฏุฑุณ (Course)

ุงุทูุงุนุงุช ุงุณุชุงุชฺฉ ูุฑ ุฏุฑุณ.

* **ูุงููู ูุงูโฺฏุฐุงุฑ ID:** ุดูุงุณู ุฏุฑุณ ฺฉ ุนุฏุฏ ณ ุฑูู ุงุณุช ฺฉู ุฑูู ุงูู (ุตุฏฺฏุงู) ูุดุงูโุฏููุฏู ุชุฑู ูพุดููุงุฏ ุงุณุช.
* ูุฑููู: `Semester = Floor(Course_ID / 100)`


* **ูุซุงู:** ุฏุฑุณ ฑฐฑ -> ุชุฑู ฑ | ุฏุฑุณ ธฐฒ -> ุชุฑู ธ.

### 2.3. ุฑูุงุจุท ูพุดโูุงุฒ ู ููโูุงุฒ (Dependencies)

ุณุณุชู ุจุงุฏ ณ ููุน ูุงุจุณุชฺฏ ุฑุง ูพุดุชุจุงู ฺฉูุฏ:

1. **Prerequisite (ูพุดโูุงุฒ):** ุฏุฑุณ A ุจุงุฏ ูพุงุณ ุดูุฏ ุชุง B ุงุฎุฐ ุดูุฏ (ุฌุฏูู `course_computer_prerequisites`).
2. **Co-requisite (ููโูุงุฒ):** ุฏุฑุณ A ุจุงุฏ ููุฒูุงู ุจุง B ุง ูุจู ุงุฒ ุขู ุงุฎุฐ ุดูุฏ (ุฌุฏูู `course_computer_corequisites`).
3. **Credit Requirement (ูพุดโูุงุฒ ูุงุญุฏ):** ุฏุงูุดุฌู ุจุงุฏ ุญุฏุงูู X ูุงุญุฏ ูพุงุณ ฺฉุฑุฏู ุจุงุดุฏ ุชุง ุฏุฑุณ Y ุฑุง ุจฺฏุฑุฏ (ุฌุฏูู `course_requirements`).
* *ูุซุงู:* ูพุฑูฺู ูุฑูโุงูุฒุงุฑ (ธฐฑ) ูุงุฒ ุจู ฺฏุฐุฑุงูุฏู ฑฐฐ ูุงุญุฏ ุฏุงุฑุฏ.



### 2.4. ููุฌูุฏุช ุงุฑุงุฆู ุฏุฑุณ (Section/Class)

ููููู ุงุฌุฑุง ฺฉ ุฏุฑุณ ุฏุฑ ฺฉ ุชุฑู ุฎุงุต.

* ุดุงูู: ุฒูุงู ุงูุชุญุงูุ ุธุฑูุชุ ูุงู ุงุณุชุงุฏุ ุชูุถุญุงุช.
* ุฏุงุฑุง ุฑุงุจุทู One-to-Many ุจุง `SectionTimes` (ฺูู ฺฉ ุฏุฑุณ ููฺฉู ุงุณุช ุฏุฑ ููุชู ุฏู ุฌูุณู ุฏุงุดุชู ุจุงุดุฏุ ูุซูุง ุดูุจู ู ุฏูุดูุจู).

# 3. Functional Requirements (Business Logic)

### FR-BL-01: ููุทู ูฺฏุงุดุช ุชุฑู (Semester Mapping Logic)

* **ุชูุตู:** ุณุณุชู ุจุงุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชุฑู ูพุดููุงุฏ ุฏุฑุณ ุฑุง ุงุฒ ุฑู ID ุชุดุฎุต ุฏูุฏ.
* **ููุทู:**
* `100-199` โ ุชุฑู ฑ
* `200-299` โ ุชุฑู ฒ
* ...
* `800-899` โ ุชุฑู ธ


* **ฺฉุงุฑุจุฑุฏ:** ุฏุฑ ููุงุด ฺุงุฑุช ุจู ฺฉุงุฑุจุฑุ ุฏุฑูุณ ุจุงุฏ ุจุฑ ุงุณุงุณ ุงู ุจุงุฒูโูุง ุฏุฑ ุณุชููโูุง ุฌุฏุงฺฏุงูู ุชุฑู ฑ ุชุง ธ ุฏุณุชูโุจูุฏ ุดููุฏ.

### FR-BL-02: ฺฉูุชุฑู ูุญุฏูุฏุช ูุงุญุฏ (Credit Threshold Constraint)

* **ุชูุตู:** ุงูฺฏูุฑุชู ูพุดููุงุฏ ูุงุญุฏ ุจุงุฏ ูุจู ุงุฒ ูพุดููุงุฏ ุฏุฑูุณ ุฎุงุตุ ูุฌููุน ูุงุญุฏูุง ูพุงุณ ุดุฏู ฺฉุงุฑุจุฑ ุฑุง ูุญุงุณุจู ฺฉูุฏ.
* **ููุงูู ุฎุงุต (Hard-coded for Computer Eng):**
* ุงฺฏุฑ ุฏุฑุณ `801` (ูพุฑูฺู) ุงูุชุฎุงุจ ุดุฏุ ุดุฑุท `Passed_Units >= 100` ฺฺฉ ุดูุฏ.
* ุงฺฏุฑ ุฏุฑุณ `807` (ฺฉุงุฑุขููุฒ) ุงูุชุฎุงุจ ุดุฏุ ุดุฑุท `Passed_Units >= 85` ฺฺฉ ุดูุฏ.


* **ุฎุทุง:** ุงฺฏุฑ ุดุฑุท ุจุฑูุฑุงุฑ ูุจูุฏุ ุฏฺฉูู ุงูุชุฎุงุจ ุฏุฑุณ ุบุฑูุนุงู ุดุฏู ู ูพุงู "ุชุนุฏุงุฏ ูุงุญุฏ ูพุงุณ ุดุฏู ูุงฺฉุงู" ููุงุด ุฏุงุฏู ุดูุฏ.

### FR-BL-03: ูุฏุฑุช ุชุฏุงุฎู ุฒูุงู ุณฺฉุดูโูุง (Section Conflict)

* **ุชูุตู:** ููฺฏุงู ุงูุชุฎุงุจ ูุงุญุฏุ ุณุณุชู ุจุงุฏ `start_time` ู `end_time` ุณฺฉุดูโูุง ุงูุชุฎุงุจ ุดุฏู ุฑุง ุฏุฑ ุฑูุฒูุง ููุชู ฺฺฉ ฺฉูุฏ.
* **ูุฑูุฏ:** ุฌุฏูู `section_times`.
* **ููุทู:** ุงฺฏุฑ ุจุงุฒู ุฒูุงู ุฏุฑุณ A ุจุง ุฏุฑุณ B ุญุช ฑ ุฏููู ูููพูุดุงู ุฏุงุดุช โ **Conflict**.

# 4. Data Seeding (Migration Strategy)

ุชู ุจฺฉโูุฏ ููุธู ุงุณุช ฺฉ ุงุณฺฉุฑูพุช `Migration` ุง `Management Command` ุฏุฑ ุฌูฺฏู ุจููุณุฏ ฺฉู ุฏุงุฏูโูุง SQL ุฒุฑ ุฑุง ุจู ูุญุถ ุฏูพูู ูุงุฑุฏ ุฏุชุงุจุณ ฺฉูุฏ.

**ูฺฉุงุช ููู ุจุฑุง ุงููพูุฑุช ุฏุงุฏูโูุง:**

1. **Courses:** ุงุจุชุฏุง ุฌุฏูู `courses_computer` ูุงุฑุฏ ุดูุฏ.
2. **Dependencies:** ุณูพุณ ุฌุฏุงูู `prerequisites` ู `corequisites` ูพุฑ ุดููุฏ (ฺูู ุจู ID ุฏุฑูุณ ูุงุจุณุชู ูุณุชูุฏ).
3. **Sections:** ุฏุฑ ููุงุช ุฏุงุฏูโูุง ุชุณุช `sections` ู `section_times` ุจุฑุง ููุงุด ุฏูู ุงุถุงูู ุดููุฏ.

*(ุฏุงุฏูโูุง SQL ุงุฑุงุฆู ุดุฏู ุฏุฑ ุณูุฏ ุถููู ูู ูุฑุงุฑ ูโฺฏุฑูุฏ ู ุนูุงู ุงุฌุฑุง ูโุดููุฏ).*

# 5. UI/UX Requirements (Frontend Update)

### 5.1. ููุงุด ฺุงุฑุช ุฏุฑุณ (Chart View)

* ุจู ุฌุง ูุณุช ุณุงุฏูุ ุจุงุฏ ุงุฒ ฺฉ **Accordion (ูุณุช ุจุงุฒุดู)** ุจุฑุง ูุฑ ุชุฑู ุงุณุชูุงุฏู ุดูุฏ.
* **ุนููุงู ูุฑ ุณฺฉุดู:** "ุชุฑู ฑ"ุ "ุชุฑู ฒ" ... "ุชุฑู ธ".
* ุฏุฑูุณ ุจุฑ ุงุณุงุณ ุฑูุฌ ID ุฏุฑ ุงู ุณฺฉุดูโูุง ูุฑุงุฑ ูโฺฏุฑูุฏ.

### 5.2. ููุงุด ุฌุฒุฆุงุช ุฏุฑุณ (Course Detail)

* ุฏุฑ ููุฏุงู ุฌุฒุฆุงุช ุฏุฑุณุ ุนูุงูู ุจุฑ ูพุดโูุงุฒ ุฏุฑุณุ ุจุงุฏ **ุฒูุงู ุงุฑุงุฆู (Section Time)** ูุฒ ููุงุด ุฏุงุฏู ุดูุฏ.
* ูุซุงู ููุงุด:
> **ูุฒฺฉ ฑ (ฑฐฑ)**
> * ูพุดโูุงุฒ: ูุฏุงุฑุฏ
> * ููโูุงุฒ: ุฑุงุถ ุนููู ฑ
> * ฺฏุฑูู ฑ: ุดูุจู ฐธ:ฐฐ - ฑฐ:ฐฐ (ุฏฺฉุชุฑ ุงุญูุฏ)
> 
> 



### 5.3. ูุดุฏุงุฑ ูพุดโูุงุฒ ูุงุญุฏ

* ุจุฑุง ุฏุฑุณ "ูพุฑูฺู ูุฑูโุงูุฒุงุฑ" ู "ฺฉุงุฑุขููุฒ"ุ ุงฺฏุฑ ุฏุงูุดุฌู ูุงุญุฏ ฺฉุงู ูุฏุงุดุชุ ฺฉ **Badges** (ูุดุงู) ุฒุฑุฏ ุฑูฺฏ ุฑู ฺฉุงุฑุช ุฏุฑุณ ููุงุด ุฏุงุฏู ุดูุฏ:
* โ๏ธ *ูุงุฒ ุจู ฺฏุฐุฑุงูุฏู ฑฐฐ ูุงุญุฏ*



# 6. Acceptance Criteria (New Data Rules)

ูฺฺฏ "ูุฏุฑุช ุฏุงุฏู" ุฒูุงู ุชุงุฏ ูโุดูุฏ ฺฉู:

1. ฺฉุงุฑุจุฑ ุจุง ุฑุดุชู "ฺฉุงููพูุชุฑ" ู ูุฑูุฏ "ฑดฐฐ" ุจุชูุงูุฏ ฺุงุฑุช ููู ุฑุง ุจุจูุฏ.
2. ุฏุฑุณ "ุณุงุฎุชูุงู ุฏุงุฏู (ณฐฑ)" ุชููุง ุฒูุงู ุจุงุฒ ุดูุฏ ฺฉู "ุจุฑูุงููโุณุงุฒ ูพุดุฑูุชู (ฒฐฑ)" ู "ุฑุงุถุงุช ฺฏุณุณุชู (ฒฐณ)" ูพุงุณ ุดุฏู ุจุงุดูุฏ.
3. ุณุณุชู ุงุฌุงุฒู ุงูุชุฎุงุจ "ูพุฑูฺู ูุฑูโุงูุฒุงุฑ" ุฑุง ุจู ุฏุงูุดุฌู ฺฉู นฐ ูุงุญุฏ ูพุงุณ ฺฉุฑุฏู ูุฏูุฏ.
4. ุฏุฑุณ "ุฑุงุถ ุนููู ฑ" (ฑฐฑ) ู "ุฑุงุถ ุนููู ฒ" (ฒฐต) ุฏุฑ ุณุชููโูุง ุชุฑู ฑ ู ุชุฑู ฒ ููุงุด ุฏุงุฏู ุดููุฏ (ุชุณุช ููุทู ID).
5. ุงูุชุฎุงุจ ููุฒูุงู ุณฺฉุดู ด (ุฏูุดูุจู ฑด-ฑถ) ู ุณฺฉุดู ถ (ฺฉุดูุจู ฑด-ฑถ) ูุฌุงุฒ ุจุงุดุฏุ ุงูุง ุงูุชุฎุงุจ ุณฺฉุดู ด ู ุณฺฉุดู ุฏฺฏุฑ ุฏุฑ ุฏูุดูุจู ฑต:ฐฐ ุฎุทุง ุฏูุฏ.

---
ุจุณุงุฑ ุนุงู. ุงู ุฏู ูฺฉุชูุ ูุนูุงุฑ ุฏุชุงุจุณ ุฑุง ุงุฒ ฺฉ ูุฏู ุณุงุฏู ุจู ฺฉ ูุฏู **ุฑุงุจุทูโุง ูพุดุฑูุชู (Advanced Relational Model)** ุชุบุฑ ูโุฏูุฏ.

ุจู ุนููุงู ูุนูุงุฑ ุณุณุชูุ ุจุฑ ุงุณุงุณ ุงู ูุฑูุฏโูุง ุฌุฏุฏุ ุจุฎุด **"ูุฏุฑุช ุฏุงุฏูโูุง ู ฺุงุฑุช"** ุฏุฑ PRD ุฑุง ุจุง ุฑูฺฉุฑุฏ **Versioning (ูุณุฎูโุจูุฏ)** ู **Course Baskets (ุณุจุฏ ุฏุฑูุณ)** ุจุงุฒููุณ ูโฺฉูู.

---

# ุขูพุฏุช ูู PRD - ูุณุฎู ฒ.ฑ (ูุนูุงุฑ ฺุงุฑุช ูพูุง ู ุฏุฑูุณ ุงุฎุชุงุฑ)

### ุชุบุฑุงุช ฺฉูุฏ ุงุณุชุฑุงุชฺฺฉ

1. **ุงุณุชููุงู ฺุงุฑุชโูุง:** ุฏฺฏุฑ ููโุชูุงูู ฺฉ ฺุงุฑุช ูพุงู ุฏุงุดุชู ุจุงุดู. ูุฑ ฺุงุฑุช ฺฉ ููุฌูุฏุช ุงุฒููู (Isolated Entity) ุงุณุช ฺฉู ููุงูู ุฎูุฏ ุฑุง ุฏุงุฑุฏ.
2. **ุณุจุฏ ุฏุฑูุณ (Elective Baskets):** ุฏุฑูุณ ูุซู "ุฏุฑุณ ุงุฎุชุงุฑ" (ุจุง ฺฉุฏ ถฐถ) ฺฉ ุฏุฑุณ ูุงูุน ูุณุชูุฏุ ุจูฺฉู ฺฉ **Placeholder** (ุฌุงฺฏุงู) ูุณุชูุฏ ฺฉู ุจู ูุณุช ุงุฒ ุฏุฑูุณ ูุงูุน ุงุดุงุฑู ูโฺฉููุฏ.

---

# 1. Revised Data Model (ูุฏู ุฏุงุฏู ุงุตูุงุญ ุดุฏู)

ุจุฑุง ูพุงุฏูโุณุงุฒ ุงู ููุทู ุฏุฑ Django + Postgresุ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ ุจุงุฏ ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ฺฉูุฏ:

### 1.1. ูุฏุฑุช ูุณุฎู ฺุงุฑุช (Chart Versioning)

ุจุงุฏ ุฌุฏูู ุจุฑุง ุชุนุฑู "ููุงูู ฺฉู" ูุฑ ฺุงุฑุช ุฏุงุดุชู ุจุงุดู.

* **Entity:** `ChartSchema`
* **Fields:**
* `major`: ุฑุดุชู (ูุซูุงู ูููุฏุณ ฺฉุงููพูุชุฑ)
* `degree`: ููุทุน (ฺฉุงุฑุดูุงุณ)
* `valid_from_year`: ุดุฑูุน ุณุงู ูุฑูุฏ (ูุซูุงู ฑณนฒ)
* `valid_to_year`: ูพุงุงู ุณุงู ูุฑูุฏ (ูุซูุงู ฑดฐฒ)


* **Logic:** ููุช ุฏุงูุดุฌู ูุงฺฏู ูโฺฉูุฏุ ุณุณุชู ุจุฑ ุงุณุงุณ `student.entry_year` ฺฺฉ ูโฺฉูุฏ ฺฉู ุณุงู ูุฑูุฏุด ุฏุฑ ฺฉุฏุงู ุจุงุฒู `valid_from` ู `valid_to` ูุฑุงุฑ ุฏุงุฑุฏ ู ฺุงุฑุช ูุฑุจูุทู ุฑุง ููุฏ ูโฺฉูุฏ.

### 1.2. ูุฏุฑุช ุณุจุฏ ุฏุฑูุณ (Elective Groups)

ุจุฑุง ุญู ูุดฺฉู "ูุณุช ูุดุฎุต ุฏุฑูุณ ุงุฎุชุงุฑ"ุ ููููู "ฺฏุฑูู ุฏุฑุณ" ุฑุง ุงุถุงูู ูโฺฉูู.

* **Entity:** `CourseGroup` (ุณุจุฏ ุฏุฑูุณ)
* *ูุซุงู:* "ุณุจุฏ ุฏุฑูุณ ุงุฎุชุงุฑ ูู"ุ "ุณุจุฏ ุฏุฑูุณ ุนููู".


* **Entity:** `CourseGroupMembership` (ุฌุฏูู ูุงุณุท)
* ุงุฑุชุจุงุท Many-to-Many ุจู `Course` ู `CourseGroup`.
* *ูุซุงู:* ุฏุฑุณ "ุฑุงุงูุด ุงุจุฑ" ู "ุฏุงุฏูโฺฉุงู" ูุฑ ุฏู ุนุถู ฺฏุฑูู "ุฏุฑูุณ ุงุฎุชุงุฑ" ูุณุชูุฏ.



### 1.3. ุณุงุฎุชุงุฑ ุฏุฑุฎุช ฺุงุฑุช (Chart Structure)

ุฌุฏูู ุงุตู ฺฉู ุฏุฑุณโูุง ุฑุง ุจู ุชุฑูโูุง ูุณุจุช ูโุฏูุฏุ ุจุงุฏ ููุดููุฏ ุดูุฏ. ูุฑ ุฑุฏู ุฏุฑ ฺุงุฑุช ุง ุจู ฺฉ "ุฏุฑุณ ุซุงุจุช" ุงุดุงุฑู ุฏุงุฑุฏ ุง ุจู ฺฉ "ฺฏุฑูู ุฏุฑุณ".

* **Entity:** `ChartNode` (ุขุชูโูุง ฺุงุฑุช)
* `chart_schema_id`: (FK ุจู ฺุงุฑุช ุงุตู)
* `semester_level`: (ุชุฑู ูพุดููุงุฏ: ฑ ุชุง ธ)
* `course_id`: (FK ุจู ุฏุฑุณ - Nullable) ๐ ุจุฑุง ุฏุฑูุณ ุงุฌุจุงุฑ ูุซู ุฑุงุถ ฑ.
* `course_group_id`: (FK ุจู ฺฏุฑูู - Nullable) ๐ ุจุฑุง ุฏุฑูุณ ุงุฎุชุงุฑ ูุซู ฺฉุฏ ถฐถ.
* **Logic:** ุฏููุงู ฺฉ ุงุฒ ุฏู ููุฏ `course_id` ุง `course_group_id` ุจุงุฏ ูพุฑ ุจุงุดุฏ.



---

# 2. Functional Requirements (Updated Logic)

### FR-BL-04: ุฑุฒูููุดู ุฏุฑูุณ ุงุฎุชุงุฑ (Elective Resolution)

* **ุชูุตู:** ููฺฏุงู ฺฉู ุณุณุชู ฺุงุฑุช ุฑุง ุจุฑุง ุฏุงูุดุฌู ุฑูุฏุฑ ูโฺฉูุฏุ ุงฺฏุฑ ุจู ููุฏ ุจุฑุณุฏ ฺฉู `course_group_id` ุฏุงุฑุฏ (ูุซู "ุฏุฑุณ ุงุฎุชุงุฑ"):
1. ุณุณุชู ูุจุงุฏ ููุท ุจููุณุฏ "ุฏุฑุณ ุงุฎุชุงุฑ".
2. ุจุงุฏ ฺฉ ูุณุช ฺฉุดู (Dropdown) ุง ููุฏุงู ุจุงุฒ ุดูุฏ.
3. ูุณุช ุฏุฑูุณ ููุฌูุฏ ุฏุฑ ุขู ฺฏุฑูู ุฑุง ููุงุด ุฏูุฏ (ูุซูุงู: ุฏุงุฏูโฺฉุงูุ ุชุฌุงุฑุช ุงูฺฉุชุฑููฺฉุ ูุจ ูพุดุฑูุชู).
4. **ููุชุฑูฺฏ ููุดููุฏ:** ุฏุฑูุณ ฺฉู ุฏุงูุดุฌู *ูุจูุงู ูพุงุณ ฺฉุฑุฏู* ุจุงุฏ ุงุฒ ุงู ูุณุช ุงูุชุฎุงุจ ุญุฐู ุดููุฏ ุชุง ุชฺฉุฑุงุฑ ุจุฑูุฏุงุฑุฏ.



### FR-BL-05: ุงุนุชุจุงุฑุณูุฌ ูุณุชูู ฺุงุฑุช (Version Scoped Validation)

* **ุณูุงุฑู:** ุฏุฑุณ "ูุฒฺฉ ฒ" ุฏุฑ ฺุงุฑุช นฒ "ณ ูุงุญุฏ" ุงุณุชุ ุงูุง ุดุงุฏ ุฏุฑ ฺุงุฑุช ฑดฐณ "ฒ ูุงุญุฏ" ุจุงุดุฏ.
* **ุฑุงู ุญู:** ููุฌูุฏุช `Course` ุจุงุฏ ูุงุญุฏุด ุซุงุจุช ุจุงุดุฏ. ุงฺฏุฑ ูุงุญุฏ ุฏุฑุณ ุชุบุฑ ฺฉุฑุฏุ ุจุงุฏ ฺฉ `Course` ุฌุฏุฏ ุจุง ฺฉุฏ ูุชูุงูุช (ุง ูุฑฺู ูุชูุงูุช) ุชุนุฑู ุดูุฏ.
* *ูุงููู:* ูุง ูุฑุถ ูโฺฉูู ุงฺฏุฑ ูุดุฎุตุงุช ุฐุงุช ุฏุฑุณ (ุชุนุฏุงุฏ ูุงุญุฏ) ุนูุถ ุดุฏุ ุนููุงู ฺฉ ุฏุฑุณ ุฌุฏุฏ ุงุณุช.



---

# 3. UX/UI Flow for Electives (ุฌุฑุงู ฺฉุงุฑุจุฑ ุฏุฑูุณ ุงุฎุชุงุฑ)

ุฏุฑ ุตูุญู "ฺุงุฑุช ุฏุฑุณ" ุง "ูพุดููุงุฏ ูุงุญุฏ":

1. **ููุงุด:**
* ุฏุฑูุณ ุงุฌุจุงุฑ (ูุซู ุฑุงุถ ฑ) ุจู ุตูุฑุช ฺฉ ฺฉุงุฑุช ุซุงุจุช ููุงุด ุฏุงุฏู ูโุดููุฏ.
* ุฏุฑูุณ ุงุฎุชุงุฑ (ูุซู ถฐถ) ุจู ุตูุฑุช ฺฉ **ฺฉุงุฑุช ุฎุทโฺูโุฏุงุฑ (Dashed Border)** ุจุง ุนููุงู "ุงูุชุฎุงุจ ฺฉูุฏ: ุฏุฑุณ ุงุฎุชุงุฑ" ููุงุด ุฏุงุฏู ูโุดููุฏ.


2. **ุงูุชุฎุงุจ (Interaction):**
* ฺฉุงุฑุจุฑ ุฑู ฺฉุงุฑุช "ุฏุฑุณ ุงุฎุชุงุฑ" ฺฉูฺฉ ูโฺฉูุฏ.
* ฺฉ BottomSheet ุจุงุฒ ูโุดูุฏ ุจุง ุนููุงู: "ูุณุช ุฏุฑูุณ ูุฌุงุฒ ุจุฑุง ุงุฎุชุงุฑ".
* ฺฉุงุฑุจุฑ ุฏุฑุณ "ุฑุงุงูุด ุงุจุฑ" ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ.
* ฺฉุงุฑุช "ุฏุฑุณ ุงุฎุชุงุฑ" ุชุจุฏู ูโุดูุฏ ุจู ฺฉุงุฑุช "ุฑุงุงูุด ุงุจุฑ".



---

# 4. Acceptance Criteria (ูุนุงุฑูุง ูพุฐุฑุด ุฌุฏุฏ)

ุนูุงูู ุจุฑ ููุงุฑุฏ ูุจูุ ุงู ุณูุงุฑููุง ุจุงุฏ ูพุงุณ ุดููุฏ:

1. **ุณูุงุฑู ูุฑูุฏ:**
* ุฏุงูุดุฌู ูุฑูุฏ นฑ ูุจุงุฏ ฺุงุฑุช ูุฑูุฏ นฒ-ดฐฒ ุฑุง ุจุจูุฏ (ุงฺฏุฑ ฺุงุฑุช นฑ ููุฌูุฏ ูุณุชุ ูพุงู "ฺุงุฑุช ุงูุช ูุดุฏ" ุจุฏูุฏ).


2. **ุณูุงุฑู ุงูุชุฎุงุจ:**
* ุฏุฑ ุชุฑู ถุ ุขุชู "ุฏุฑุณ ุงุฎุชุงุฑ (ถฐถ)" ููุงุด ุฏุงุฏู ุดูุฏ.
* ุจุง ฺฉูฺฉ ุฑู ุขูุ ูุณุช (ุฑุงุงูุด ุงุจุฑุ ุฏุงุฏูโฺฉุงูุ ...) ุจุงุฒ ุดูุฏ.
* ุงฺฏุฑ ุฏุงูุดุฌู "ุฑุงุงูุด ุงุจุฑ" ุฑุง ุงูุชุฎุงุจ ฺฉุฑุฏุ ุณุณุชู ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง **ูพุดูุงุฒูุง ุฑุงุงูุด ุงุจุฑ** (ฺฉู ฺฉ ุฏุฑุณ ูุงูุน ุงุณุช) ูพุงุณ ุดุฏู ุงุณุช ุง ุฎุฑ.


3. **ุณูุงุฑู ฺูุฏฺฏุงูฺฏ:**
* ุงฺฏุฑ ุฏุฑ ุชุฑู ท ูู "ุฏุฑุณ ุงุฎุชุงุฑ (ทฐฒ)" ูุฌูุฏ ุฏุงุฑุฏุ ุฏุงูุดุฌู ุจุชูุงูุฏ "ุฏุงุฏูโฺฉุงู" ุฑุง ุขูุฌุง ุงูุชุฎุงุจ ฺฉูุฏ (ุงฺฏุฑ ูุจูุงู ุฏุฑ ุชุฑู ถ ุจุฑูุฏุงุดุชู ุจุงุดุฏ).



---

# 5. Updated Integration Plan (Backend Needs)

ุชู ุจฺฉโูุฏ ุจุงุฏ ูุฏูโูุง ุฑุง ุจู ุตูุฑุช **Polymorphic** ุง **Nullable Foreign Keys** ูพุงุฏูโุณุงุฒ ฺฉูุฏ.

**Pseudo-Code Model (Django):**

```python
class ChartSchema(models.Model):
    major = models.CharField(...)
    entry_year_start = models.IntegerField()
    entry_year_end = models.IntegerField()

class CourseGroup(models.Model):
    name = models.CharField(max_length=100) # e.g., "Technical Electives"
    courses = models.ManyToManyField('Course') # The specific list you mentioned

class ChartNode(models.Model):
    schema = models.ForeignKey(ChartSchema, ...)
    semester = models.IntegerField() # 1 to 8
    
    # Either a specific course OR a group bucket
    course = models.ForeignKey('Course', null=True, blank=True)
    course_group = models.ForeignKey(CourseGroup, null=True, blank=True)
    
    def clean(self):
        if not self.course and not self.course_group:
            raise ValidationError("Either course or group must be set.")

```
